:root {
   --tint-ice-blue: #dde8eb;
   --light-ice-blue: #bdd3d8;
   --ice-blue: #9dbec5;
   --medium-ice-blue: #7da8b3;
   --dark-ice-blue: #5d929f;
   --darker-ice-blue: #45686F;
   --darkest-ice-blue: #30484D;
   --white: #f8f8f8;
   --black: #121212;
   --black-border: solid 2px #000000;
   --max-width: 900px;
   --sides: 3%;
}

/* ========== LAYOUT ========== */

html {
   height: 100dvh;
}

body {
   height: 100%;
   display: flex;
   gap: 1em;
   flex-direction: column;
   background-color: var(--black);
   color: var(--white);
   padding-inline: var(--sides);
}

header,
main,
footer {
   margin-inline: auto;
   width: min(100%, var(--max-width));
}

header {
   flex: 0 1 auto;
   margin-block: 1.4em 0.7em;
}

main {
   flex: 1 0 auto;
   display: flex;
   flex-direction: column;
   flex-wrap: nowrap;
   gap: 1em;
}

footer {
   .copy-instructions {
      flex: 0 1 auto;
      margin-block: 0 .8em;
      font-weight: 400;

      p:last-child {
         margin-top: .5em;
      }
   }
}

/* ========== TYPOGRAPHY ========== */

h1, p, form {
   font-family: "Geom", sans-serif;
   text-align: center;
   font-optical-sizing: auto;
   font-style: normal;
}

/* ========== HEADER ========== */

header {
   h1, p.subheading {
      line-height: 1.2;
      text-wrap: balance;
      letter-spacing: 0.011em;
   }

   h1 {
      font-size: clamp(1rem, 6.6vw, 4.4rem);
      font-variant: petite-caps;
      width: min(95%, (var(--max-width) - 2rem));
   }

   p.subheading {
      font-size: clamp(1rem, 0.5rem + 4vw, 2.4rem);
      font-weight: 500;
      font-variant: all-petite-caps;
      max-width: 93%;
   }
}

/* ========== FORM ========== */

form {
   display: flex;
   flex-wrap: wrap;
   gap: 0.9em;
   align-content: stretch;
   justify-content: stretch;

   > * {
      height: 47px;
      font-size: 1rem;
      padding-block: .5px;
   }
}

.seed-color-input-wrapper {
   display: flex;
   flex: 1 0 47px;
   align-items: center;
   max-width: 10rem;
   border: solid  0.75px var(--white);

   > input[type="color"] {
      font-size: .5em;
      min-height: 100%;
      width: 100%;
      border: var(--black-border);
      outline: none;
   }

   > input[type="color"]::-webkit-color-swatch-wrapper {
      padding: 0;
   }
}

.dropdown-wrapper {
   container-type: inline-size;
   container-name: dropdown;
   flex: 2 1 13rem;
	border: solid 1px var(--white);

   select.mode-dropdown {
      height: 100%;
      width: 100%;
      border: var(--black-border);
      font-size: 1rem;
      font-weight: 500;
      text-align: center;
   }
}

/* necessary? */
@container dropdown (width > 560px) {
   select.mode-dropdown {
      font-size: clamp(.95rem, .8rem + 0.5cqw, 1.2rem);
      background-color: red;
   }
}

/* ========== BUTTON ========== */

/* Loosely based on the BIG Jelly Button from https://codepen.io/arronhunt/pen/WWOOeO. Original source from Mathias Adam: https://dribbble.com/shots/6209185-BIG-Jelly-Button */
.create-palette-btn {
   flex: 1 1 9rem;
   position: relative;
   font-size: 1.1rem;
   font-weight: 600;
   line-height: 2.5rem;
   color: var(--white);
   text-shadow: 0 -.5px 0.8px var(--darkest-ice-blue);
   border: 1px solid var(--ice-blue);
   border-radius: 3.75rem;
   background-color: var(--ice-blue);
   cursor: pointer;
   padding-inline: 1.5rem;
   background-image: linear-gradient(-180deg, var(--ice-blue) 0%, var(--darker-ice-blue) 100%);
   box-shadow:
      0 -0.25rem 1.5rem var(--darker-ice-blue) inset,
      0 0.75rem 0.5rem var(--ice-blue) inset,
      0 0.25rem 0.5rem 0 var(--med-ice-blue) inset;

   &:hover {
      transform: scale(1.025);
   }

   /* TODO: I don't think any of the below styles are working since I switched the button tag back to an input tag. Will the button tag be ok?  */

   /* &span {
      color: var(--white);
      background-image: linear-gradient(0deg, var(--dark-ice-blue) 0%, var(--light-ice-blue) 100%);
      background-clip: text;
      filter: drop-shadow(0 2px 2px var(--darker-ice-blue));
   } */

   /* makes the reflective line near the top */
   /* &::before {
      content: "";
      display: block;
      height: 0.1rem;
      position: absolute;
      top: 0.3rem;
      left: 50%;
      transform: translateX(-50%);
      width: calc(100% - 6.5rem);
      background: var(--white);
      border-radius: 100%;
      opacity: 0.7;
      background-image: linear-gradient(-270deg, rgba(255, 255, 255, 0.00) 0%, #FFFFFF 20%, #FFFFFF 80%, rgba(255, 255, 255, 0.00) 100%);
   } */

   /* creates a VERY light reflective line under the text */
   /* &::after {
      content: "";
      display: block;
      height: 0.25rem;
      position: absolute;
      bottom: 0.75rem;
      left: 50%;
      transform: translateX(-50%);
      width: calc(100% - 7.5rem);
      background: #fff;
      border-radius: 100%;
      filter: blur(1px);
      opacity: 0.05;
      background-image: linear-gradient(-270deg, rgba(255, 255, 255, 0.00) 0%, #FFFFFF 20%, #FFFFFF 80%, rgba(255, 255, 255, 0.00) 100%);
   } */
}

/* ========== PALETTE ========== */

#generated-palette {
   flex: 1 1 auto;
   display: grid;
   grid-auto-flow: column;
   grid-template-columns: auto;
   margin-inline: .25em;
   background: linear-gradient(in hsl longer hue 90deg, #b36a9b, cadetblue);

   > div.color {
      display: grid;
      grid-template-rows: 1fr ;
      gap: .25em;
      height: 100%;
      > p.hex-label {
         padding: 0.2em 0.4em;
      }
   }
}

@media(width < 560px) {
   form > .seed-color-input-wrapper {
      max-width: unset;
      flex: 2 0 47px;
   }

   #generated-palette {
      grid-auto-flow: row;
      div.color {
         grid-template-rows: 1fr;

         > div.color-box {   /* parent of each color */
            grid-area: 1 / 1 / 2 / 2;
            z-index: 5;
         }
         > p.hex-label {
            grid-area: 1 / 1 / 2 / 2;
            z-index: 10;
            align-self: center;
            text-shadow: 0 0 2px var(--black);
            -webkit-text-stroke: 0.5px #000000d0;
            font-weight: 800;
            letter-spacing: 0.01em;
            font-size: clamp(1rem, 0.3rem + 4vw, 1.4rem);
            text-transform: lowercase;
         }
      }
   }
}